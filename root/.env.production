# ====================================
#  üöÄ CORE APPLICATION SETTINGS
# ====================================
NODE_ENV=production
PORT=10000                          # HTTP server port
LOG_LEVEL=info                      # Logging level: debug, info, warn, error
METRICS=json                        # Metrics format: json | prom

# ====================================
#  üíæ SESSION & STATE MANAGEMENT
# ====================================
SESSION_STORE=redis                 # Session storage: memory | redis
SESSION_TTL_SEC=3600               # Session expiration time (1 hour)
SESSION_REDIS_URL=redis://localhost:6379
SESSION_REDIS_TIMEOUT_MS=2000      # Redis connection timeout

# ====================================
#  ü§ñ LLM CONFIGURATION
# ====================================
PROMPTS_DIR=root/src/prompts        # Directory for prompt templates

# Primary LLM Provider
LLM_PROVIDER_BASEURL=https://openrouter.ai/api/v1
LLM_API_KEY=your_openrouter_key_here
LLM_MODEL=google/gemma-3n-e4b-it    # Primary model for chat responses

# Model Fallback Chain (comma-separated, tried in order on failures)
LLM_MODELS=mistralai/mistral-nemo,deepseek/deepseek-chat-v3.1:free,meta-llama/llama-3.2-3b-instruct:free

# Evaluation LLM (for testing and quality assessment)
LLM_TEST_EVALUATION_MODEL_BASEURL=https://openrouter.ai/api/v1
LLM_TEST_EVALUATION_MODEL=deepseek/deepseek-chat-v3.1:free
LLM_TEST_EVALUATION_MODEL_API_KEY=your_openrouter_key_here

# ====================================
#  üß† NLP & AI MODELS
# ====================================
HF_TOKEN=your_huggingface_token_here  # Hugging Face API token

# NLP Processing Mode
NER_USE_LOCAL=true                  # Use local models vs HF Inference API
TRANSFORMERS_CASCADE_ENABLED=false # Enable Transformers.js cascade before LLM
TRANSFORMERS_ROUTER_TIMEOUT_MS=15000 # Timeout for local model inference

# Local vs Remote Model Configuration
NER_CITIES_MODEL_LOCAL=Xenova/bert-base-multilingual-cased-ner-hrl
NER_CITIES_MODEL_REMOTE_API=Davlan/xlm-roberta-base-ner-hrl
NER_GENERAL_MODEL_LOCAL=Xenova/bert-base-multilingual-cased-ner-hrl
NER_GENERAL_MODEL_REMOTE_API=Davlan/xlm-roberta-base-ner-hrl
CLASSIFICATION_INTENT_MODEL_LOCAL=Xenova/nli-deberta-v3-base
CLASSIFICATION_INTENT_MODEL_REMOTE_API=facebook/bart-large-mnli

# ====================================
#  üåç EXTERNAL TRAVEL APIS
# ====================================
# Flight Search (Amadeus)
AMADEUS_CLIENT_ID=your_amadeus_client_id_here
AMADEUS_CLIENT_SECRET=your_amadeus_client_secret_here
AMADEUS_HOSTNAME=production         # test | production
AMADEUS_BASE_URL=https://api.amadeus.com
AMADEUS_AUTH_TIMEOUT_MS=5000        # Authentication request timeout
AMADEUS_API_TIMEOUT_MS=45000        # Flight search API timeout

# Points of Interest
OPENTRIPMAP_API_KEY=your_opentripmap_key_here

# ====================================
#  üîç WEB SEARCH & RESEARCH
# ====================================
SEARCH_PROVIDER=brave               # Primary search: tavily | brave
BRAVE_SEARCH_API_KEY=your_brave_search_key_here
TAVILY_API_KEY=your_tavily_api_key_here

# Deep Research (Crawlee-powered web crawling)
DEEP_RESEARCH_ENABLED=false         # Enable comprehensive web research
CRAWLEE_MAX_PAGES=8                 # Max pages to crawl per research session
CRAWLEE_ENGINE=cheerio              # Crawling engine: cheerio | playwright

# Browser Automation
PLAYWRIGHT_HEADLESS=true            # Run browser in headless mode
PLAYWRIGHT_BLOCK_RESOURCES=image,font,media  # Block resources for faster crawling

# ====================================
#  üìö RAG & KNOWLEDGE BASE
# ====================================
POLICY_RAG=on                       # Enable RAG for policy documents
VECTARA_API_KEY=your_vectara_api_key_here
VECTARA_CUSTOMER_ID=your_customer_id_here
VECTARA_BASE_URL=https://api.vectara.io
VECTARA_CORPUS_NAME=your_corpus_name

# Knowledge Base Corpora
VECTARA_CORPUS_AIRLINES=your_airlines_corpus_id    # Airline policies and info
VECTARA_CORPUS_HOTELS=your_hotels_corpus_id        # Hotel booking policies
VECTARA_CORPUS_VISAS=your_visas_corpus_id          # Visa requirements and travel docs

# ====================================
#  ‚ö° PERFORMANCE & OPTIMIZATION
# ====================================
WEATHER_FASTPATH=true               # Enable fast-path for weather queries
CLI_STREAMING_DELAY_MS=2            # Text streaming delay in CLI (ms)

# ====================================
#  üõ°Ô∏è RELIABILITY & RESILIENCE
# ====================================
# Circuit Breaker Configuration
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5     # Failures before opening circuit
CIRCUIT_BREAKER_SUCCESS_THRESHOLD=3     # Successes needed to close circuit
CIRCUIT_BREAKER_TIMEOUT=60000           # Circuit open duration (ms)
CIRCUIT_BREAKER_RESET_TIMEOUT=30000     # Time before retry attempt (ms)
CIRCUIT_BREAKER_MONITORING_PERIOD=10000 # Health check interval (ms)

# Rate Limiter Configuration
RATE_LIMITER_MAX_CONCURRENT=10          # Max concurrent requests
RATE_LIMITER_MIN_TIME=1000              # Min time between requests (ms)
RATE_LIMITER_RESERVOIR=100              # Token bucket size
RATE_LIMITER_RESERVOIR_REFRESH_AMOUNT=10    # Tokens added per refresh
RATE_LIMITER_RESERVOIR_REFRESH_INTERVAL=60000  # Refresh interval (ms)

# ====================================
#  ‚úÖ QUALITY ASSURANCE
# ====================================
AUTO_VERIFY_REPLIES=true            # Automatically verify all responses
VERIFY_WARN_INLINE=true             # Show verification warnings inline

# ====================================
#  üöß DEVELOPMENT & DEBUGGING
# ====================================
# Uncomment for development features:

# # Cloud Infrastructure (Beam)
# BEAM_MODE=cloud
# BEAM_API_TOKEN=your_beam_token_here
# BEAM_VOLUME=comfy-weights
# BEAM_GPU=A10G
# BEAM_MEMORY=16Gi
# BEAM_CPU=4
