# ====================
#  CORE CONFIGURATION
# ====================
PORT=3000
LOG_LEVEL=debug
METRICS=json

# ====================
#  LLM CONFIGURATION
# ====================
# Primary LLM
LLM_PROVIDER_BASEURL=https://openrouter.ai/api/v1  # Alternative: http://localhost:11434/v1
LLM_API_KEY=your_llm_api_key_here
LLM_MODEL=mistralai/mistral-nemo  # Alternatives: qwen/qwen3-30b-a3b | deepseek/deepseek-chat-v3.1:free

# Model fallback chain (comma-separated)
LLM_MODELS=mistralai/mistral-nemo,deepseek/deepseek-chat-v3.1:free,meta-llama/llama-3.2-3b-instruct:free

# Evaluation LLM
LLM_TEST_EVALUATION_MODEL_BASEURL=https://openrouter.ai/api/v1
LLM_TEST_EVALUATION_MODEL=deepseek/deepseek-chat-v3.1:free
LLM_TEST_EVALUATION_MODEL_API_KEY=your_test_evaluation_api_key_here

# ====================
#  NLP & AI MODELS
# ====================
# NLP Model Settings
# Use Xenova/bert-base-multilingual-cased-ner-hrl with ONNX weights for local Transformers.js
# For HF Inference: Davlan/xlm-roberta-base-ner-hrl
# TRANSFORMERS_NER_MODEL=Davlan/xlm-roberta-base-ner-hrl  # Let unified NER choose model based on mode
HF_TOKEN=your_huggingface_token_here
NER_USE_LOCAL=true

# NLP Configuration
# Global switch: true = use local models, false = use HF Inference API
NLP_USE_LOCAL=true

# Task-specific models
# City/Location Entity Recognition - trying Facebook XLM-RoBERTa
NER_CITIES_MODEL_LOCAL=Xenova/bert-base-multilingual-cased-ner-hrl
NER_CITIES_MODEL_REMOTE_API=Davlan/xlm-roberta-base-ner-hrl

# General Entity Recognition (PER, ORG, MISC, etc.)
NER_GENERAL_MODEL_LOCAL=Xenova/bert-base-multilingual-cased-ner-hrl
NER_GENERAL_MODEL_REMOTE_API=Davlan/xlm-roberta-base-ner-hrl

# Intent Classification
CLASSIFICATION_INTENT_MODEL_LOCAL=Xenova/nli-deberta-v3-base
CLASSIFICATION_INTENT_MODEL_REMOTE_API=facebook/bart-large-mnli

TRANSFORMERS_ROUTER_TIMEOUT_MS=15000

# Alternative LLM Provider (Nebius)
# NEBIUS_API_KEY=your_nebius_api_key_here
# NEBIUS_EMBEDDINGS_MODEL=Qwen/Qwen3-Embedding-8B
# NEBIUS_BASE_URL=https://api.studio.nebius.com/v1/

# ====================
#  EXTERNAL SERVICES
# ====================
# Search & Travel APIs
BRAVE_SEARCH_API_KEY=your_brave_search_api_key_here
OPENTRIPMAP_API_KEY=your_opentrip_search_api_key_here

# Web Search & Crawling
DEEP_RESEARCH_ENABLED=true
CRAWLEE_MAX_PAGES=8
CRAWLEE_ENGINE=cheerio # cheerio | playwright

# ====================
#  RAG & KNOWLEDGE BASE
# ====================
# RAG Service settings (Vectara)
POLICY_RAG=on
VECTARA_API_KEY=your_vectara_api_key_here
VECTARA_CORPUS_NAME=your_corpus_name
VECTARA_BASE_URL=https://api.vectara.io
VECTARA_CUSTOMER_ID=your_customer_id_here
VECTARA_CORPUS_AIRLINES=your_airlines_corpus_id
VECTARA_CORPUS_HOTELS=your_hotels_corpus_id
VECTARA_CORPUS_VISAS=your_visas_corpus_id
VECTARA_CORPUS_DESTINATIONS=your_destinations_corpus_id

# ====================
#  CIRCUIT BREAKER & RATE LIMITING
# ====================
# Circuit Breaker Configuration
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_SUCCESS_THRESHOLD=3
CIRCUIT_BREAKER_TIMEOUT=60000
CIRCUIT_BREAKER_RESET_TIMEOUT=30000
CIRCUIT_BREAKER_MONITORING_PERIOD=10000

# Rate Limiter Configuration  
RATE_LIMITER_MAX_CONCURRENT=10
RATE_LIMITER_MIN_TIME=1000
RATE_LIMITER_RESERVOIR=100
RATE_LIMITER_RESERVOIR_REFRESH_AMOUNT=10
RATE_LIMITER_RESERVOIR_REFRESH_INTERVAL=60000

# Per-host overrides (optional)
# RATE_MIN_MS_OPEN_METEO=150
# RATE_MIN_MS_RESTCOUNTRIES=150
# RATE_MIN_MS_OPENTRIPMAP=250
# RATE_MIN_MS_BRAVE=400
# BREAK_TIMEOUT_MS_BRAVE=4500
# BREAK_ERROR_PCT_BRAVE=40

# # ====================
# #  CLOUD INFRASTRUCTURE
# # ====================
# # Beam Cloud Settings
# BEAM_MODE=cloud                 # Options: cloud | local
# BEAM_API_TOKEN=your_beam_api_token_here
# BEAM_VOLUME=comfy-weights
# BEAM_GPU=A10G
# BEAM_MEMORY=16Gi
# BEAM_CPU=4
