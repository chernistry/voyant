# ================
# Core Application
# ================
PORT=3000
LOG_LEVEL=debug
METRICS=json

# ===================
# LLM Configuration
# ===================
# Primary LLM Settings
LLM_PROVIDER_BASEURL=https://openrouter.ai/api/v1
# Alternative local option:
# LLM_PROVIDER_BASEURL=http://localhost:11434/v1 for Ollama
LLM_API_KEY=your_llm_api_key_here
LLM_MODEL=mistralai/mistral-nemo
# Alternative model options:
# mistralai/mistral-nemo | qwen/qwen3-30b-a3b | mistralai/mistral-nemo:free 
# deepseek/deepseek-r1-0528:free | deepseek/deepseek-chat-v3.1:free

# Evaluation Model Settings
LLM_TEST_EVALUATION_MODEL_BASEURL=https://openrouter.ai/api/v1
LLM_TEST_EVALUATION_MODEL=deepseek/deepseek-chat-v3.1:free
LLM_TEST_EVALUATION_MODEL_API_KEY=your_test_evaluation_api_key_here

# ===================
# External API Keys
# ===================
BRAVE_SEARCH_API_KEY=your_brave_search_api_key_here
OPENTRIPMAP_API_KEY=your_opentrip_search_api_key_here

# ===================
# Circuit Breaker & Rate Limiting
# ===================
# Global defaults for external API protection
EXT_RATE_MIN_TIME_MS=200          # Min delay between requests per host (ms)
EXT_RATE_MAX_CONCURRENCY=2        # Max concurrent requests per host
EXT_BREAKER_TIMEOUT_MS=4000       # Circuit breaker timeout per call (ms)
EXT_BREAKER_RESET_MS=15000        # Half-open reset timeout (ms)
EXT_BREAKER_ERROR_PCT=50          # Open breaker at >=50% error rate
EXT_BREAKER_VOLUME=10             # Min calls before error % decision

# Per-host overrides (optional)
# RATE_MIN_MS_OPEN_METEO=150
# RATE_MIN_MS_RESTCOUNTRIES=150
# RATE_MIN_MS_OPENTRIPMAP=250
# RATE_MIN_MS_BRAVE=400
# BREAK_TIMEOUT_MS_BRAVE=4500
# BREAK_ERROR_PCT_BRAVE=40

# ===================
# Vectara RAG Configuration
# ===================
VECTARA_BASE_URL=https://api.vectara.io
VECTARA_QUERY_PATH=/v1/query
VECTARA_INDEX_PATH=/v1/index
VECTARA_API_KEY=your_vectara_api_key_here
VECTARA_CUSTOMER_ID=your_customer_id_here
VECTARA_CORPUS_AIRLINES=your_airlines_corpus_id
VECTARA_CORPUS_HOTELS=your_hotels_corpus_id  
VECTARA_CORPUS_VISAS=your_visas_corpus_id
VECTARA_TIMEOUT_MS=3500
VECTARA_RETRIES=2
VECTARA_CACHE_TTL_MS=10000

# ===================
# Feature Flags
# ===================
POLICY_RAG=on
DEEP_RESEARCH_ENABLED=true
# Number of pages to crawl with Crawlee (default: 8)
CRAWLEE_MAX_PAGES=8